var OkendoWidgetsVue=function(e,t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;const i=/^[0-9]*$/,s="https://api.okendo.io/v1";let a=void 0;const o={};var r={get storeBaseUrl(){if(a)return`${s}/stores/${a}`;console.error("Okendo subscriberId not defined: Please set your Okendo subscriberId by calling configureOkendo({ subscriberId: 'your-subscriber-id-here' })")},transformProductId:e=>e.startsWith("shopify-")?e:`shopify-${i.test(e)?e:atob(e).split("/").slice(-1)[0]}`,setSubscriberId(e){a=e},apiBaseUrl:()=>s,subscriberId:()=>a,writeReviewUrl:e=>`https://reviews.okendo.io/stores/${a}/review?productId=${e}`,askQuestionUrl:e=>`https://reviews.okendo.io/stores/${a}/question?productId=${e}`,getMore:e=>t.get(`${s}${e}`),postHelpfulVoteReview(e,i){return t.post(`${this.storeBaseUrl}/reviews/${e}/vote`,{voteType:i})},getReview(e){return t.get(`${this.storeBaseUrl}/reviews/${e}`)},getReviewsProduct(e,i=5,s="date desc"){return t.get(`${this.storeBaseUrl}/products/${e}/reviews?limit=${i}&orderBy=${s}`)},getReviewsAll(e=5,i="date desc"){return t.get(`${this.storeBaseUrl}/reviews?limit=${e}&orderBy=${i}`)},getReviewAggregateProduct(e){return o[e]||(o[e]=t.get(`${this.storeBaseUrl}/products/${e}/review_aggregate`))},getReviewAggregateAll(){return t.get(`${this.storeBaseUrl}/review_aggregate`)},getMediaProduct(e,i=6,s="date desc"){return t.get(`${this.storeBaseUrl}/products/${e}/review_media?limit=${i}&orderBy=${s}`)},getMediaAll(e=6,i="date desc"){return t.get(`${this.storeBaseUrl}/review_media?limit=${e}&orderBy=${i}`)},getQuestionsProduct(e,i=5,s="date desc"){return t.get(`${this.storeBaseUrl}/products/${e}/questions?limit=${i}&orderBy=${s}`)},getQuestionAggregateProduct(e){return t.get(`${this.storeBaseUrl}/products/${e}/question_aggregate`)},postHelpfulVoteQuestion(e,i){return t.post(`${this.storeBaseUrl}/questions/${e}/vote`,{voteType:i})},postHelpfulVoteAnswer(e,i,s){return t.post(`${this.storeBaseUrl}/questions/${e}/answers/${i}/vote`,{voteType:s})}};function n(e,t,i,s,a,o,r,n,d,l){"boolean"!=typeof r&&(d=n,n=r,r=!1);const v="function"==typeof i?i.options:i;let u;if(e&&e.render&&(v.render=e.render,v.staticRenderFns=e.staticRenderFns,v._compiled=!0,a&&(v.functional=!0)),s&&(v._scopeId=s),o?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},v._ssrRegister=u):t&&(u=r?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,n(e))}),u)if(v.functional){const e=v.render;v.render=function(t,i){return u.call(i),e(t,i)}}else{const e=v.beforeCreate;v.beforeCreate=e?[].concat(e,u):[u]}return i}var d=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"okeReviews-starRating",class:{"okeReviews-starRating--small":"small"===e.size}},[e.accessibleText?i("span",{staticClass:"okeReviews-a11yText"},[e._v("Rated "+e._s(e.rating)+" out of 5")]):e._e(),e._v(" "),i("span",{staticClass:"okeReviews-starRating-indicator",attrs:{role:"presentation"}},[i("span",{staticClass:"okeReviews-starRating-indicator-layer"}),e._v(" "),i("span",{staticClass:"okeReviews-starRating-indicator-layer okeReviews-starRating-indicator-layer--foreground",style:{width:20*e.rating+"%"}})])])},staticRenderFns:[]},void 0,{props:{rating:{required:!0},accessibleText:{type:Boolean,default:!0,required:!1},size:{type:String,default:"standard",required:!1}}},void 0,!1,void 0,!1,void 0,void 0,void 0),l={props:{productId:{type:String,default:"",required:!0},hideIfEmpty:{type:Boolean,default:!0,required:!1},scrollTargetId:{type:String,required:!1}},components:{OkendoStars:d},data:()=>({ratingAndReviewCount:0,averageRating:"0",isLoading:!0,isError:!1,scrollTarget:void 0}),mounted(){const e=r.transformProductId(this.productId);this.scrollTarget=this.scrollTargetId?document.getElementById(this.scrollTargetId):document.getElementsByClassName("js-okeReviews-reviewsWidget")[0],e&&r.getReviewAggregateProduct(e).then(e=>{if(e&&e.data&&e.data.reviewAggregate){const t=e.data.reviewAggregate;this.ratingAndReviewCount=t.ratingAndReviewCount,this.averageRating=t.ratingAndReviewCount?(t.ratingAndReviewValuesTotal/t.ratingAndReviewCount).toFixed(1):"0",this.isLoading=!1}else this.isError=!0}).catch(()=>this.isError=!0)},methods:{scrollToReviews(){this.scrollTarget&&this.scrollTarget.scrollIntoView({behavior:"smooth"})}}};const v="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function u(e){return(e,t)=>(function(e,t){const i=v?t.media||"default":e,s=w[i]||(w[i]={ids:new Set,styles:[]});if(!s.ids.has(e)){s.ids.add(e);let i=t.source;if(t.map&&(i+="\n/*# sourceURL="+t.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),s.element||(s.element=document.createElement("style"),s.element.type="text/css",t.media&&s.element.setAttribute("media",t.media),void 0===c&&(c=document.head||document.getElementsByTagName("head")[0]),c.appendChild(s.element)),"styleSheet"in s.element)s.styles.push(i),s.element.styleSheet.cssText=s.styles.filter(Boolean).join("\n");else{const e=s.ids.size-1,t=document.createTextNode(i),a=s.element.childNodes;a[e]&&s.element.removeChild(a[e]),a.length?s.element.insertBefore(t,a[e]):s.element.appendChild(t)}}})(e,t)}let c;const w={};var g=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isError||!e.isLoading&&!e.ratingAndReviewCount&&e.hideIfEmpty?e._e():i("div",{staticClass:"okeReviews okeReviews--theme",on:{click:function(t){return e.scrollToReviews()}}},[i("div",{staticClass:"okeReviews-reviewsSummary",class:{"is-okeReviews-empty":0===e.ratingAndReviewCount,"is-okeReviews-loading":e.isLoading,"is-okeReviews-clickable":e.scrollTarget}},[i("div",{staticClass:"okeReviews-reviewsSummary-starRating"},[i("okendo-stars",{attrs:{rating:e.averageRating,size:"small"}})],1),e._v(" "),i("div",{staticClass:"okeReviews-reviewsSummary-ratingCount"},[e._v("\n            "+e._s(e.ratingAndReviewCount||"0")+" "+e._s(1===e.ratingAndReviewCount?"Review":"Reviews")+"\n        ")])])])},staticRenderFns:[]},(function(e){e&&e("data-v-5abc7252_0",{source:'.okeReviews .okeReviews-reviewsSummary-ratingCount,.okeReviews .okeReviews-starRating-indicator-layer--foreground{transition:opacity .5s ease}.okeReviews .okeReviews-reviewsSummary.is-okeReviews-loading{position:relative}.okeReviews .okeReviews-reviewsSummary.is-okeReviews-loading .okeReviews-reviewsSummary-ratingCount,.okeReviews .okeReviews-reviewsSummary.is-okeReviews-loading .okeReviews-starRating-indicator-layer--foreground{opacity:0}.okeReviews .okeReviews-reviewsSummary.is-okeReviews-loading .okeReviews-starRating-indicator::before{animation:loading 1.2s linear infinite;background:linear-gradient(to right,rgba(255,255,255,0) 0,rgba(255,255,255,.6) 100%);background-size:200% 100%;content:"";display:block;height:100%;position:absolute;width:100%;z-index:1}@keyframes loading{0%{background-position:200%}100%{background-position:0}}',map:void 0,media:void 0})}),l,void 0,!1,void 0,!1,u,void 0,void 0);var p=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.attributes?i("div",{staticClass:"okeReviews-review-reviewer-attributes"},e._l(e.attributes,(function(t){return i("div",{key:t.title,staticClass:"okeReviews-review-reviewer-attributes-item"},[t.value&&e.isListAttribute(t)?i("div",{staticClass:"okeReviews-sectionedList"},[i("div",{staticClass:"okeReviews-sectionedList-heading"},[e._v(e._s(t.title))]),e._v(" "),i("ul",{staticClass:"okeReviews-sectionedList-list"},e._l(t.value,(function(t){return i("li",{key:t,staticClass:"okeReviews-sectionedList-list-item"},[e._v(e._s(t))])})),0)]):e._e(),e._v(" "),t.value&&!e.isListAttribute(t)?i("div",{staticClass:"okeReviews-review-attribute"},[i("div",{staticClass:"okeReviews-review-attribute-label"},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"okeReviews-review-attribute-value"},[e._v(e._s(t.value))])]):e._e()])})),0):e._e()},staticRenderFns:[]},void 0,{props:{attributes:{type:Array,required:!0}},methods:{isListAttribute:e=>Array.isArray(e.value)}},void 0,!1,void 0,!1,void 0,void 0,void 0);var h=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.attributes?i("div",{staticClass:"okeReviews-review-arguments"},e._l(e.attributes,(function(t){return i("div",{key:t.title,staticClass:"okeReviews-review-arguments-item"},[t.value&&e.isListAttribute(t)?i("div",{staticClass:"okeReviews-sectionedList"},[i("div",{staticClass:"okeReviews-sectionedList-heading"},[e._v(e._s(t.title))]),e._v(" "),i("ul",{staticClass:"okeReviews-sectionedList-list"},e._l(t.value,(function(t){return i("li",{key:t,staticClass:"okeReviews-sectionedList-list-item"},[e._v(e._s(t))])})),0)]):e._e(),e._v(" "),t.value&&!e.isListAttribute(t)?i("div",{staticClass:"okeReviews-review-attribute"},[i("div",{staticClass:"okeReviews-review-attribute-label"},[e._v(e._s(t.title))]),e._v(" "),i("div",{staticClass:"okeReviews-review-attribute-value"},[e._v(e._s(t.value))])]):e._e()])})),0):e._e()},staticRenderFns:[]},void 0,{props:{attributes:{type:Array,required:!0}},methods:{isListAttribute:e=>Array.isArray(e.value)}},void 0,!1,void 0,!1,void 0,void 0,void 0);var m=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"okeReviews-review-reviewer-profile"},[i("div",{staticClass:"okeReviews-review-reviewer-profile-avatar"},[i("div",{staticClass:"okeReviews-avatar okeReviews-avatar--reviewer",class:e.reviewer.socialConnection?"okeReviews-avatar--"+e.reviewer.socialConnection:""},[i("div",{staticClass:"okeReviews-avatar-placeholder",attrs:{"aria-hidden":"true"}},[e._v("\n                "+e._s(e.reviewerInitials)+"\n            ")]),e._v(" "),e.reviewer.avatarUrl?i("img",{staticClass:"okeReviews-avatar-image",attrs:{src:e.reviewer.avatarUrl,alt:""}}):e._e()])]),e._v(" "),i("div",{staticClass:"okeReviews-review-reviewer-profile-details"},[i("div",{staticClass:"okeReviews-review-reviewer-profile-details-inner"},[i("span",{staticClass:"okeReviews-review-reviewer-profile-name",attrs:{"aria-hidden":"true"}},[e._v("\n                "+e._s(e.reviewer.displayName)+"\n            ")]),e._v(" "),e.reviewer.country?[e.reviewer.location&&e.reviewer.location.zoneCode?i("span",{staticClass:"okeReviews-review-reviewer-profile-country-zone",attrs:{"aria-hidden":"true"}},[e._v("\n                    "+e._s(e.reviewerLocation)+"\n                ")]):i("span",{staticClass:"okeReviews-review-reviewer-profile-country okeReviews-flag",class:"okeReviews-flag--"+e.reviewer.country.code.toLowerCase(),attrs:{title:e.reviewerLocation,"aria-hidden":"true"}}),e._v(" "),i("span",{staticClass:"okeReviews-a11yText"},[e._v("\n                    "+e._s("Reviewed by "+e.reviewer.displayName+", from "+e.reviewerLocation)+"\n                ")])]:[i("span",{staticClass:"okeReviews-a11yText"},[e._v(e._s("Reviewed by "+e.reviewer.displayName))])]],2),e._v(" "),e.reviewer.isVerified?i("div",{staticClass:"okeReviews-review-reviewer-profile-status okeReviews-review-reviewer-profile-status--verified"},[e._v("\n            Verified Buyer\n        ")]):e._e()])])},staticRenderFns:[]},(function(e){e&&e("data-v-49c2eb92_0",{source:".okeReviews .okeReviews-review-reviewer-profile-country-zone[data-v-49c2eb92]{margin-bottom:0}",map:void 0,media:void 0})}),{props:{reviewer:{type:Object,required:!0}},computed:{reviewerInitials(){return(this.reviewer.displayName||"").split(" ").slice(0,2).map(e=>e.substr(0,1).toLocaleUpperCase()).join("")},reviewerLocation(){return this.reviewer.location&&this.reviewer.location.zoneCode?`${this.reviewer.location.zoneCode}, ${this.reviewer.location.country.name}`:this.reviewer.country?this.reviewer.country.name:void 0}}},"data-v-49c2eb92",!1,void 0,!1,u,void 0,void 0);var k=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tbody",e._l(e.attributes,(function(t,s){return i("tr",{key:t.title,staticClass:"okeReviews-attributeRatingsTable-row"},[i("th",{staticClass:"okeReviews-attributeRatingsTable-row-label"},[e._v("\n            "+e._s(t.title)+"\n        ")]),e._v(" "),i("td",{staticClass:"okeReviews-attributeRatingsTable-row-value"},["range"===t.type?i("div",{staticClass:"or-rg",class:{"has-lbl":t.minLabel||t.maxLabel}},[i("span",{staticClass:"okeReviews-a11yText"},[e._v("Rated "+e._s(e.scaledValue(s))+" out of 5")]),e._v(" "),i("div",{staticClass:"or-rg-bar"},[i("div",{staticClass:"or-rg-bar-bg",style:{width:e.percentageValue(s)+"%"}}),e._v(" "),i("div",{staticClass:"or-rg-bar-seg"}),e._v(" "),i("div",{staticClass:"or-rg-bar-seg"}),e._v(" "),i("div",{staticClass:"or-rg-bar-mrk",style:{left:e.percentageValue(s)+"%"}})]),e._v(" "),t.minLabel||t.maxLabel?i("div",{staticClass:"or-rg-lbl"},[i("div",{staticClass:"or-rg-lbl-itm",attrs:{"aria-hidden":"true"}},[e._v("\n                        "+e._s(t.minLabel)+"\n                    ")]),e._v(" "),i("div",{staticClass:"or-rg-lbl-itm",attrs:{"aria-hidden":"true"}},[e._v("\n                        "+e._s(t.maxLabel)+"\n                    ")])]):e._e()]):e._e(),e._v(" "),"centered-range"===t.type?i("div",{staticClass:"or-crg"},[i("span",{staticClass:"okeReviews-a11yText"},[e._v("Rated "+e._s(e.scaledValue(s))+" on a scale of minus 2 to 2, where minus 2 is "+e._s(t.minLabel)+", 0 is "+e._s(t.midLabel)+" and 2 is "+e._s(t.maxLabel))]),e._v(" "),i("div",{staticClass:"or-crg-bar"},[i("span",{staticClass:"or-crg-bar-bg",style:e.percentageValue(s)<50?{left:e.percentageValue(s)+"%",right:"50%"}:{left:"50%",right:100-e.percentageValue(s)+"%"}}),e._v(" "),i("div",{staticClass:"or-crg-bar-seg"}),e._v(" "),i("div",{staticClass:"or-crg-bar-seg"}),e._v(" "),i("div",{staticClass:"or-crg-bar-mid"}),e._v(" "),i("div",{staticClass:"or-crg-bar-mrk",style:{left:e.percentageValue(s)+"%"}})]),e._v(" "),i("div",{staticClass:"or-crg-lbl"},[i("div",{staticClass:"or-crg-lbl-itm",attrs:{"aria-hidden":"true"}},[e._v("\n                        "+e._s(t.minLabel)+"\n                    ")]),e._v(" "),i("div",{staticClass:"or-crg-lbl-itm",attrs:{"aria-hidden":"true"}},[e._v("\n                        "+e._s(t.midLabel)+"\n                    ")]),e._v(" "),i("div",{staticClass:"or-crg-lbl-itm",attrs:{"aria-hidden":"true"}},[e._v("\n                        "+e._s(t.maxLabel)+"\n                    ")])])]):e._e()])])})),0)},staticRenderFns:[]},void 0,{props:{attributes:{type:Array,required:!0}},methods:{percentageValue(e){const t=this.attributes[e];return"range"===t.type?this.scaleBetween(t.value,0,100,1,5):this.scaleBetween(t.value,0,100,-1,1)},scaledValue(e){const t=this.attributes[e];return"range"===t.type?t.value:this.scaleBetween(t.value,-2,2,-1,1)},scaleBetween:(e,t,i,s,a)=>(i-t)*(e-s)/(a-s)+t}},void 0,!1,void 0,!1,void 0,void 0,void 0);var f=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"okeReviews-mediaStrip",class:{"is-overflow":e.isOverflow}},[e._l(e.media,(function(t,s){return["image"===t.type?i("a",{key:t.streamId,staticClass:"okeReviews-mediaStrip-item",attrs:{href:e.findMediaUrl(t,"largeUrl"),role:"button"},on:{click:function(t){return e.onMediaClick(t,s)}}},[i("img",{staticClass:"okeReviews-mediaStrip-item-media",attrs:{src:e.findMediaUrl(t,"thumbnailUrl"),alt:""}})]):i("a",{key:t.streamId,staticClass:"okeReviews-mediaStrip-item",attrs:{href:e.findMediaUrl(t,"fullSizeUrl"),role:"button"},on:{click:function(t){return e.onMediaClick(t,s)}}},[i("div",{staticClass:"okeReviews-mediaStrip-item-media okeReviews-mediaStrip-item-media--video",style:{backgroundImage:"url("+e.findMediaUrl(t,"videoPosterUrl")+")"},attrs:{"aria-label":""}})])]}))],2)},staticRenderFns:[]},(function(e){e&&e("data-v-ffd0bc32_0",{source:".okeReviews .okeReviews-mediaStrip-item{margin-right:.25em}",map:void 0,media:void 0})}),{props:{media:{type:Array,required:!0},isOverflow:{type:Boolean,required:!1,default:!1}},methods:{onMediaClick(e,t){e.preventDefault(),this.$emit("mediaClick",{mediaItems:this.media,reviewId:this.media[t].reviewId||void 0,initialIndex:t})},findMediaUrl:(e,t="thumbnailUrl")=>"image"===e.type?e[t]||e.imageUrls[t]:e[t]||e.videoUrls[t]}},void 0,!1,void 0,!1,u,void 0,void 0);var b=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"oke-helpful"},[i("span",{staticClass:"oke-helpful-label"},[e._v(e._s(e.helpfulLabelText))]),e._v(" "),i("div",{staticClass:"oke-helpful-vote"},[i("button",{staticClass:"oke-helpful-vote-button oke-helpful-vote-button--positive",class:{"oke-is-voted":"upvote"===e.currentVote,"is-oke-disabled":e.isVoting},attrs:{disabled:e.isVoting,"aria-describedby":"oke-helpful-vote-counter-positive-"+e.itemId,type:"button","aria-label":"Yes"},on:{click:function(t){return e.onVote("upvote")}}},[i("span",{staticClass:"oke-helpful-vote-counter",attrs:{id:"oke-helpful-vote-counter-positive-"+e.itemId}},[e._v("\n                "+e._s(e.helpfulCountDisplay)+" "),i("span",{staticClass:"okeReviews-a11yText"},[e._v(e._s(1===e.helpfulCountDisplay?"person voted yes":"people voted yes"))])])]),e._v(" "),i("button",{staticClass:"oke-helpful-vote-button oke-helpful-vote-button--negative",class:{"oke-is-voted":"downvote"===e.currentVote,"is-oke-disabled":e.isVoting},attrs:{disabled:e.isVoting,"aria-describedby":"oke-helpful-vote-counter-negative-"+e.itemId,type:"button","aria-label":"No"},on:{click:function(t){return e.onVote("downvote")}}},[i("span",{staticClass:"oke-helpful-vote-counter",attrs:{id:"oke-helpful-vote-counter-negative-"+e.itemId}},[e._v("\n                "+e._s(e.unhelpfulCountDisplay)+" "),i("span",{staticClass:"okeReviews-a11yText"},[e._v(e._s(1===e.unhelpfulCountDisplay?"person voted no":"people voted no"))])])])])])},staticRenderFns:[]},(function(e){e&&e("data-v-96f199c4_0",{source:".oke-helpful{color:#7c7c7c;display:block;font-size:12px}.oke-helpful-question{vertical-align:middle}.oke-helpful-vote{display:inline-block;margin-left:1em}.oke-helpful-vote-button{background:0 0;border:none;color:#7c7c7c;cursor:pointer;padding:0;transition:opacity .3s ease;vertical-align:middle;width:auto}.oke-helpful-vote-button::before{vertical-align:middle;margin-bottom:.3em}.oke-helpful-vote-button--positive::before{background-image:url(\"data:image/svg+xml,%3Csvg fill='%237c7c7c' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M23,10C23,8.89 22.1,8 21,8H14.68L15.64,3.43C15.66,3.33 15.67,3.22 15.67,3.11C15.67,2.7 15.5,2.32 15.23,2.05L14.17,1L7.59,7.58C7.22,7.95 7,8.45 7,9V19A2,2 0 0,0 9,21H18C18.83,21 19.54,20.5 19.84,19.78L22.86,12.73C22.95,12.5 23,12.26 23,12V10M1,21H5V9H1V21Z' /%3E%3C/svg%3E\");background-repeat:no-repeat;display:inline-block;content:\"\";width:1em;height:1em;background-size:1em 1em}.oke-helpful-vote-button--negative::before{background-image:url(\"data:image/svg+xml,%3Csvg fill='%237c7c7c' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M19,15H23V3H19M15,3H6C5.17,3 4.46,3.5 4.16,4.22L1.14,11.27C1.05,11.5 1,11.74 1,12V14A2,2 0 0,0 3,16H9.31L8.36,20.57C8.34,20.67 8.33,20.77 8.33,20.88C8.33,21.3 8.5,21.67 8.77,21.94L9.83,23L16.41,16.41C16.78,16.05 17,15.55 17,15V5C17,3.89 16.1,3 15,3Z' /%3E%3C/svg%3E\");background-repeat:no-repeat;display:inline-block;content:\"\";width:1em;height:1em;background-size:1em 1em;margin-left:1em}.oke-helpful-vote-button--negative::before,.oke-helpful-vote-button--positive::before{opacity:.5}.oke-helpful-vote-button--negative.oke-is-voted::before,.oke-helpful-vote-button--positive.oke-is-voted::before{color:inherit;opacity:1}.oke-helpful-vote-button.is-oke-disabled{opacity:.3}.oke-helpful-vote-counter{display:inline-block;margin-left:.25em;pointer-events:none}",map:void 0,media:void 0})}),{props:{itemId:{type:String,required:!0},parentId:{type:String,required:!1},helpfulCount:{type:Number,required:!1,default:0},unhelpfulCount:{type:Number,required:!1,default:0},contentType:{type:0,required:!1,default:"review"}},data:()=>({currentVote:void 0,isVoting:!1}),computed:{helpfulCountDisplay(){return"upvote"===this.currentVote?this.helpfulCount+1:this.helpfulCount},unhelpfulCountDisplay(){return"downvote"===this.currentVote?this.unhelpfulCount+1:this.unhelpfulCount},helpfulLabelText(){return"question"===this.contentType?"I had this question too":"Was this helpful?"}},methods:{onVote(e){this.isVoting=!0;const t=this.getVoteType(this.currentVote,e);this.getVotePromise(t).then(()=>{this.currentVote=e===this.currentVote?"":e,this.isVoting=!1}).catch(()=>{this.isVoting=!1})},getVoteType:(e,t)=>e?e===t?`${t}-cancel`:`swap-to-${t}`:t,getVotePromise(e){switch(this.contentType){case"review":return r.postHelpfulVoteReview(this.itemId,e);case"question":return r.postHelpfulVoteQuestion(this.itemId,e);case"answer":return r.postHelpfulVoteAnswer(this.parentId,this.itemId,e)}}}},void 0,!1,void 0,!1,u,void 0,void 0);var R=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"okeReviews-review-reviewer-product"},[e.productImageUrl&&e.productUrl?i("a",{staticClass:"okeReviews-review-reviewer-product-thumbnail",attrs:{href:e.productUrl}},[i("img",{staticClass:"okeReviews-review-reviewer-product-thumbnail-image",attrs:{src:e.productImageUrl,alt:e.productName}})]):i("div",{staticClass:"okeReviews-review-reviewer-product-thumbnail"},[i("img",{staticClass:"okeReviews-review-reviewer-product-thumbnail-image",attrs:{src:e.productImageUrl,alt:e.productName}})]),e._v(" "),i("div",{staticClass:"okeReviews-review-reviewer-product-details"},[i("div",{staticClass:"okeReviews-review-reviewer-product-details-heading"},[e._v("\n            Reviewing\n        ")]),e._v(" "),e.productUrl?i("a",{staticClass:"okeReviews-review-reviewer-product-details-link",attrs:{href:e.productUrl}},[e._v("\n            "+e._s(e.productName)+"\n        ")]):i("div",[e._v("\n            "+e._s(e.productName)+"\n        ")])])])},staticRenderFns:[]},void 0,{props:{productName:{type:String,required:!0},productImageUrl:{type:String,required:!1},productUrl:{type:String,required:!1}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function _(e,t,i){return function(s){var a=Math.floor(s/e);return a+" "+(t+(a>1?"s":""))+" "+i}}var C=[{threshold:1,handler:function(){return"just now"}},{threshold:60,handler:_(1,"second","ago")},{threshold:3600,handler:_(60,"minute","ago")},{threshold:86400,handler:_(3600,"hour","ago")},{threshold:172800,handler:function(){return"yesterday"}},{threshold:604800,handler:_(86400,"day","ago")},{threshold:2592e3,handler:_(604800,"week","ago")},{threshold:31536e3,handler:_(2592e3,"month","ago")},{threshold:1/0,handler:_(31536e3,"year","ago")}],y={format:function(e){for(var t=((new Date).getTime()-e.getTime())/1e3,i=0;i<C.length;i++)if(t<C[i].threshold)return C[i].handler(t);throw new Error("exhausted all formatter options, none found")}},q={getPrettyDate:e=>y.format(new Date(e)),addParagraphsTags(e){let t="<p>";return t+=e.replace(/(?:\r\n|\r|\n)+/g,"</p><p>"),t+="</p>"}};var x=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{staticClass:"okeReviews-review"},[i("aside",{staticClass:"okeReviews-review-side"},[i("div",{staticClass:"okeReviews-review-side-inner"},[i("div",{staticClass:"okeReviews-review-reviewer"},[i("okendo-reviewer-profile",{attrs:{reviewer:e.review.reviewer}}),e._v(" "),e.showProductData?i("okendo-product",{attrs:{productName:e.review.productName,productUrl:e.review.productUrl,productImageUrl:e.review.productImageUrl}}):e._e(),e._v(" "),i("div",{staticClass:"okeReviews-review-recommendation",class:e.review.isRecommended?"okeReviews-review-recommendation--yes":"okeReviews-review-recommendation--no"},[e._v("\n                    "+e._s(e.review.isRecommended?"I recommend this product":"I don't recommend this product")+"\n                ")]),e._v(" "),e.review.reviewer.attributes?i("okendo-customer-attributes",{attrs:{attributes:e.review.reviewer.attributes}}):e._e()],1),e._v(" "),e.review.productAttributes?i("okendo-product-attributes",{attrs:{attributes:e.review.productAttributes}}):e._e()],1)]),e._v(" "),i("div",{staticClass:"okeReviews-review-primary"},[i("div",{staticClass:"okeReviews-review-meta"},[i("div",{staticClass:"okeReviews-review-starRating"},[i("okendo-stars",{attrs:{rating:e.review.rating}})],1),e._v(" "),i("div",{staticClass:"okeReviews-review-date"},[i("span",{staticClass:"okeReviews-a11yText"},[e._v("Review posted ")]),i("span",[e._v(e._s(e.formattedDate))])])]),e._v(" "),i("div",{staticClass:"okeReviews-review-main"},[i("h2",{staticClass:"okeReviews-review-main-heading"},[e._v(e._s(e.review.title))]),e._v(" "),i("div",{staticClass:"okeReviews-review-main-content"},[i("div",{staticClass:"okeReviews-review-main-content-body",domProps:{innerHTML:e._s(e.reviewBodyParagraphs)}})])]),e._v(" "),e.review.attributesWithRating?i("div",{staticClass:"okeReviews-review-attributeRatings"},[i("table",{staticClass:"okeReviews-attributeRatingsTable",attrs:{"aria-label":"Product attributes ratings"}},[i("okendo-bar-attributes",{attrs:{attributes:e.review.attributesWithRating}})],1)]):e._e(),e._v(" "),e.review.media&&e.review.media.length?i("div",{staticClass:"okeReviews-review-media"},[i("okendo-media-strip",{attrs:{media:e.review.media},on:{mediaClick:function(t){return e.openMediaModal(t)}}})],1):e._e(),e._v(" "),i("helpful-voting",{attrs:{itemId:e.review.reviewId,helpfulCount:e.review.helpfulCount,unhelpfulCount:e.review.unhelpfulCount,contentType:"review"}})],1)])},staticRenderFns:[]},void 0,{props:{review:{type:Object,required:!0},showProductData:{type:Boolean,required:!1,default:!1}},components:{OkendoCustomerAttributes:p,OkendoProduct:R,OkendoProductAttributes:h,OkendoReviewerProfile:m,OkendoStars:d,OkendoBarAttributes:k,OkendoMediaStrip:f,HelpfulVoting:b},data:()=>({formattedDate:"",reviewBodyParagraphs:""}),mounted(){this.formattedDate=q.getPrettyDate(this.review.dateCreated),this.reviewBodyParagraphs=q.addParagraphsTags(this.review.body)},methods:{openMediaModal(e){this.$emit("mediaClick",{...e,reviewId:this.review.reviewId,source:"review"})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);var S=n({render:function(){var e=this.$createElement,t=this._self._c||e;return this.url?t("a",{staticClass:"okeReviews-writeReviewButton okeReviews-button",attrs:{href:this.url,target:"_blank",rel:"nofollow"}},[this._v("\n    Write a Review\n")]):this._e()},staticRenderFns:[]},(function(e){e&&e("data-v-3f97dd42_0",{source:".okeReviews .okeReviews-writeReviewButton{visibility:visible;border:0;padding-left:24px;padding-right:24px;background-color:#f5f5f5;display:inline-block}",map:void 0,media:void 0})}),{props:{url:{type:String,required:!0}}},void 0,!1,void 0,!1,u,void 0,void 0);var I=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"okeReviews-reviewsWidget-stateMessage"},["error"===e.viewState?[e._v("Whoops, something went wrong 😣")]:e._e(),e._v(" "),"loading"===e.viewState?[e._v("Loading Reviews...")]:e._e(),e._v(" "),"empty"===e.viewState?[e._v("\n        No reviews yet"),e.writeReviewUrl?[e._v(", write one now?")]:e._e(),e._v(" "),e.writeReviewUrl?i("div",{staticClass:"okeReviews-reviewsWidget-stateMessage-button"},[i("okendo-write-review-button",{attrs:{url:e.writeReviewUrl}})],1):e._e()]:e._e()],2)},staticRenderFns:[]},(function(e){e&&e("data-v-6b82f7dd_0",{source:".okeReviews-reviewsWidget-stateMessage{font-family:inherit;border-top:2px solid #f5f5f5;border-bottom:2px solid #f5f5f5;padding:24px;text-align:center}.okeReviews-reviewsWidget-stateMessage-button{margin-top:8px}",map:void 0,media:void 0})}),{props:{viewState:{type:String,required:!0},writeReviewUrl:{type:String}},components:{OkendoWriteReviewButton:S}},void 0,!1,void 0,!1,u,void 0,void 0);var L=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"okeReviews-reviewsAggregate-ratingDistribution"},[i("ul",{staticClass:"okeReviews-ratingDistribution",attrs:{"aria-label":"Rating distribution"}},e._l(e.reviewCountData,(function(t,s,a){return i("li",{key:s,staticClass:"okeReviews-ratingDistribution-item"},[i("div",{staticClass:"okeReviews-ratingDistribution-item-label"},[i("div",{staticClass:"okeReviews-ratingDistribution-item-label-inner"},[e._v(e._s(e.transformIndex(a))+" "+e._s(1===t?"Star":"Stars"))])]),e._v(" "),i("div",{staticClass:"okeReviews-ratingDistribution-item-value"},[i("div",{staticClass:"okeReviews-ratingDistribution-item-value-inner"},[i("div",{staticClass:"okeReviews-ratingDistribution-item-value-graph",attrs:{role:"presentation"}},[i("div",{staticClass:"okeReviews-barGraph"},[i("div",{staticClass:"okeReviews-barGraph-layer okeReviews-barGraph-layer--background"}),e._v(" "),i("div",{staticClass:"okeReviews-barGraph-layer okeReviews-barGraph-layer--foreground",style:{width:e.reviewCountPercentage(t)}})])]),e._v(" "),i("div",{staticClass:"okeReviews-ratingDistribution-item-value-count"},[e._v("\n                        "+e._s(t)+" "),i("span",{staticClass:"okeReviews-a11yText"},[e._v(e._s(1===t?"Review":"Reviews"))])])])])])})),0)])},staticRenderFns:[]},void 0,{props:{reviewCountByLevel:{type:Object,required:!0},reviewCountTotal:{type:Number,requred:!0}},data:()=>({reviewCountData:void 0}),mounted(){this.reviewCountData={level5Count:this.reviewCountByLevel.level5Count||0,level4Count:this.reviewCountByLevel.level4Count||0,level3Count:this.reviewCountByLevel.level3Count||0,level2Count:this.reviewCountByLevel.level2Count||0,level1Count:this.reviewCountByLevel.level1Count||0}},methods:{reviewCountPercentage(e){return e/this.reviewCountTotal*100+"%"},transformIndex:e=>5-e}},void 0,!1,void 0,!1,void 0,void 0,void 0);var A=n({render:function(){var e=this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"okeReviews-reviewsWidget-reviewsAggregate"},[i("div",{staticClass:"okeReviews-reviewsAggregate"},[i("div",{staticClass:"okeReviews-reviewsAggregate-side"},[i("div",{staticClass:"okeReviews-reviewsAggregate-side-inner"},[i("div",{staticClass:"okeReviews-reviewsAggregate-summary"},[i("div",{staticClass:"okeReviews-reviewsAggregate-summary-rating"},[i("div",{staticClass:"okeReviews-reviewsAggregate-summary-rating-value"},[i("div",{staticClass:"okeReviews-badge okeReviews-badge--large okeReviews-badge--rating"},[i("span",{staticClass:"okeReviews-a11yText"},[e._v("Average Rating")]),e._v(" "),i("span",[e._v(e._s(e.averageRating))]),e._v(" "),i("span",{staticClass:"okeReviews-a11yText"},[e._v("out of 5")])])]),e._v(" "),i("div",{staticClass:"okeReviews-reviewsAggregate-summary-rating-starRating",attrs:{role:"presentation"}},[i("okendo-stars",{attrs:{rating:e.averageRating}})],1)]),e._v(" "),i("div",{staticClass:"okeReviews-reviewsAggregate-summary-total"},[e.ratingsEnabled?[e._v("\n                            Based on "+e._s(e.aggregate.ratingAndReviewCount||"0")+" "+e._s(1===e.aggregate.ratingAndReviewCount?"Rating":"Ratings")+"\n                        ")]:[e._v("\n                            Based on "+e._s(e.aggregate.ratingAndReviewCount||"0")+" "+e._s(1===e.aggregate.ratingAndReviewCount?"Review":"Reviews")+"\n                        ")]],2)]),e._v(" "),e.aggregate.attributeRatings||e.hasMedia?i("okendo-rating-breakdown",{attrs:{reviewCountTotal:e.aggregate.ratingAndReviewCount,reviewCountByLevel:e.aggregate.ratingAndReviewCountByLevel}}):e._e()],1)]),e._v(" "),i("div",{staticClass:"okeReviews-reviewsAggregate-primary"},[e.percentageRecommended?i("div",{staticClass:"okeReviews-reviewsAggregate-recommends"},[i("span",{staticClass:"okeReviews-reviewsAggregate-recommends-badge okeReviews-badge okeReviews-badge--recommended"},[e._v(e._s(e.percentageRecommended)+"%")]),e._v(" "),i("span",[e._v(e._s(e.aggregate.productName?"of reviewers would recommend this product to a friend":"of reviewers would recommend these products to a friend"))])]):e._e(),e._v(" "),i("div",{staticClass:"okeReviews-reviewsAggregate-mod"},[e.aggregate.attributeRatings?i("div",{staticClass:"okeReviews-reviewsAggregate-mod-itm okeReviews-reviewsAggregate-mod-itm--attRtgAv"},[i("table",{staticClass:"okeReviews-attributeRatingsTable",attrs:{"aria-label":"Product attribute rating averages"}},[i("okendo-bar-attributes",{attrs:{attributes:e.aggregate.attributeRatings}})],1)]):e._e(),e._v(" "),e.hasMedia?i("div",{staticClass:"okeReviews-reviewsAggregate-mod-itm okeReviews-reviewsAggregate-mod-itm--medAgg"},[i("div",{staticClass:"okeReviews-mediaAggregate"},[i("span",{staticClass:"okeReviews-a11yText"},[e._v("Customer photos and videos")]),e._v(" "),i("okendo-media-strip",{attrs:{media:e.mediaAggregate.media,isOverflow:!!e.mediaAggregate.nextUrl},on:{mediaClick:function(t){return e.openMediaModal(t)}}})],1)]):e._e()])])])])}]},void 0,{props:{aggregate:{type:Object,required:!0},mediaAggregate:{type:Object}},components:{OkendoStars:d,OkendoRatingBreakdown:L,OkendoBarAttributes:k,OkendoMediaStrip:f},computed:{percentageRecommended(){return((this.aggregate.recommendationCount||0)/this.aggregate.reviewCount*100).toFixed(0)},averageRating(){return(this.aggregate.ratingAndReviewValuesTotal/this.aggregate.ratingAndReviewCount).toFixed(1)},ratingsEnabled(){return!!this.aggregate.ratingCount},hasMedia(){return this.mediaAggregate&&this.mediaAggregate.media&&this.mediaAggregate.media.length}},methods:{openMediaModal(e){this.$emit("mediaClick",{...e,source:"aggregate"})}}},void 0,!1,void 0,!1,void 0,void 0,void 0);var M=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"okeReviews-review okeReviews-review--simple"},[i("okendo-reviewer-profile",{attrs:{reviewer:e.review.reviewer}}),e._v(" "),e.showProductData?i("okendo-product",{attrs:{productName:e.review.productName,productUrl:e.review.productUrl,productImageUrl:e.review.productImageUrl}}):e._e(),e._v(" "),i("div",{staticClass:"okeReviews-review-meta"},[i("div",{staticClass:"okeReviews-review-date"},[i("span",{staticClass:"okeReviews-a11yText"},[e._v("Review posted ")]),i("span",[e._v(e._s(e.formattedDate))])]),e._v(" "),i("div",{staticClass:"okeReviews-review-starRating"},[i("okendo-stars",{attrs:{rating:e.review.rating}})],1)]),e._v(" "),i("div",{staticClass:"okeReviews-review-main"},[i("h2",{staticClass:"okeReviews-review-main-heading"},[e._v(e._s(e.review.title))]),e._v(" "),i("div",{staticClass:"okeReviews-review-main-content",domProps:{innerHTML:e._s(e.reviewBodyParagraphs)}})]),e._v(" "),i("helpful-voting",{attrs:{itemId:e.review.reviewId,helpfulCount:e.review.helpfulCount,unhelpfulCount:e.review.unhelpfulCount,contentType:"review"}})],1)},staticRenderFns:[]},void 0,{props:{review:{type:Object,required:!0},showProductData:{type:Boolean,required:!1,default:!1}},components:{OkendoReviewerProfile:m,OkendoStars:d,HelpfulVoting:b,OkendoProduct:R},data:()=>({formattedDate:"",reviewBodyParagraphs:""}),mounted(){this.formattedDate=q.getPrettyDate(this.review.dateCreated),this.reviewBodyParagraphs=q.addParagraphsTags(this.review.body)}},void 0,!1,void 0,!1,void 0,void 0,void 0);var U=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"okeReviews okeReviews--theme"},[i("div",{staticClass:"okeReviews-modal"},[i("div",{staticClass:"okeReviews-modal-overlay",attrs:{tabindex:"-1"}}),e._v(" "),i("div",{staticClass:"okeReviews-modal-inner",on:{click:function(t){return e.onClose()}}},[i("div",{staticClass:"okeReviews-modal-dialog",attrs:{role:"dialog"}},[i("div",{attrs:{role:"document"}},[i("div",{staticClass:"okeReviews-mediaGalleryReviewDialog",on:{click:function(e){e.stopPropagation()}}},[e.isMediaLoading?i("span",{staticClass:"okeReviews-a11yText",attrs:{role:"alertdialog","aria-busy":"true"}},[e._v("Loading...")]):e._e(),e._v(" "),i("div",{staticClass:"okeReviews-mediaGalleryReviewDialog-main"},[i("div",{staticClass:"okeReviews-mediaGalleryReviewDialog-slider"},[i("div",{staticClass:"okeReviews-mediaGalleryReviewDialog-slider-inner"},[i("div",{ref:"slider",staticClass:"okeReviews-mediaSlider",class:{"is-loading":e.isMediaLoading}},e._l(e.media,(function(t){return i("div",{key:t.thumbnailUrl,ref:t.append?"mainSlideToAppend":void 0,refInFor:!0,staticClass:"okeReviews-mediaSlider-slide"},["image"===t.type?i("img",{staticClass:"okeReviews-mediaSlider-slide-media",attrs:{src:t.url,alt:"Customer {{ mediaItem.type }}"}}):e._e(),e._v(" "),"video"===t.type?i("video",{staticClass:"okeReviews-mediaSlider-slide-media okeReviews-mediaSlider-slide-media--video",attrs:{src:t.url,poster:t.videoPosterURL,width:"100%",controls:""}},[i("source",{attrs:{src:t.url,type:"video/mp4"}}),e._v("\n                                                Your browser doesn't support HTML5 videos.\n                                            ")]):e._e()])})),0)])]),e._v(" "),i("div",{staticClass:"okeReviews-mediaGalleryReviewDialog-review"},[i("div",{staticClass:"okeReviews-mediaGalleryReviewDialog-review-inner",class:{"is-loading":!e.review}},[e.review?i("okendo-review-simple",{attrs:{review:e.review,showProductData:e.isAllReviews}}):e._e()],1)])]),e._v(" "),e.isMediaLoading||"aggregate"!==e.mode?e._e():i("div",{ref:"sliderNav",staticClass:"okeReviews-mediaGalleryReviewDialog-nav",class:{"is-loading":e.isLoading,"is-loadingMore":e.isLoadingMore}},e._l(e.media,(function(t){return i("div",{key:t.thumbnailUrl,ref:t.append?"navSlideToAppend":void 0,refInFor:!0,staticClass:"okeReviews-mediaGalleryReviewDialog-nav-slide"},["image"===t.type?i("img",{staticClass:"okeReviews-mediaGalleryReviewDialog-nav-slide-media",attrs:{src:t.thumbnailUrl}}):e._e(),e._v(" "),"video"===t.type?i("div",{staticClass:"okeReviews-mediaGalleryReviewDialog-nav-slide-media",style:{"background-image":"url('"+t.thumbnailUrl+"')"}},[i("div",{staticClass:"okeReviews-mediaGalleryReviewDialog-nav-slide-media-playOverlay"})]):e._e()])})),0),e._v(" "),e.isError?i("div",{staticClass:"okeReviews-mediaGalleryReviewDialog-errorOverlay"},[i("div",{staticClass:"okeReviews-mediaGalleryReviewDialog-errorOverlay-inner"},[i("div",{staticClass:"okeReviews-mediaGalleryReviewDialog-errorOverlay-img"}),e._v(" "),i("div",{staticClass:"okeReviews-mediaGalleryReviewDialog-errorOverlay-msg"}),e._v(" "),i("button",{staticClass:"okeReviews-button",on:{click:function(t){return e.loadMediaGalleryData()}}},[e._v("Retry")])])]):e._e()])]),e._v(" "),i("button",{staticClass:"okeReviews-modal-dialog-close",attrs:{type:"button","aria-label":"close this modal window"},on:{click:function(t){return e.onClose()}}})])])])])},staticRenderFns:[]},(function(e){e&&e("data-v-eaf73b2a_0",{source:".okeReviews .okeReviews-mediaGalleryReviewDialog-nav{position:relative;height:96px;overflow:hidden}.okeReviews .okeReviews-mediaGalleryReviewDialog-slider-inner{max-height:690px}",map:void 0,media:void 0})}),{components:{OkendoReviewSimple:M},props:{shopifyProductId:{type:String,required:!1},mediaItems:{type:Array,required:!1},initialReviewId:{type:String,required:!1},initialIndex:{type:Number,default:0,required:!1},mode:{type:String,required:!0},isAllReviews:{type:Boolean,required:!1,default:!1}},data:()=>({isMediaLoading:!0,isLoadingMore:!1,isError:!1,media:[],nextUrl:"",imagesPerPage:25,loadMoreThreshold:8,review:void 0,reviewId:""}),mounted(){this.loadMediaGalleryData()},methods:{loadMediaGalleryData(){if(this.reviewId=this.initialReviewId,this.loadReview(),"aggregate"===this.mode){(this.isAllReviews?r.getMediaAll(this.imagesPerPage):r.getMediaProduct(this.shopifyProductId,this.imagesPerPage)).then(e=>{this.media=this.remapMedia(e.data.media),this.nextUrl=e.data.nextUrl,setTimeout(()=>this.initFlickity(),0),this.isMediaLoading=!1}).catch(()=>{this.isMediaLoading=!1,this.isError=!0})}else this.media=this.remapMedia(this.mediaItems),this.isMediaLoading=!1,setTimeout(()=>this.initFlickity(),0)},loadReview(){r.getReview(this.reviewId).then(e=>{this.review=e.data.review})},remapMedia(e,t=!1){return"aggregate"===this.mode?e.map(e=>({url:"image"===e.type?e.imageUrls.largeUrl:e.videoUrls.fullSizeUrl,type:e.type,thumbnailUrl:"image"===e.type?e.imageUrls.thumbnailUrl:e.videoUrls.thumbnailUrl,videoPosterURL:"image"===e.type?void 0:e.videoUrls.videoPosterUrl,streamId:e.streamId,reviewId:e.reviewId,append:t})):e.map(e=>({url:"image"===e.type?e.largeUrl:e.fullSizeUrl,type:e.type,thumbnailUrl:e.thumbnailUrl,videoPosterURL:"image"===e.type?void 0:e.thumbnailUrl,reviewId:this.reviewId,append:t}))},initFlickity(){const e=this.$refs.slider,t=this.$refs.sliderNav,i=new Flickity(e,{initialIndex:this.initialIndex,accessibility:!0,prevNextButtons:this.media.length>1,pageDots:!1,wrapAround:"aggregate"!==this.mode});if("aggregate"===this.mode){const s=new Flickity(t,{asNavFor:e,accessibility:!1,pageDots:!1,prevNextButtons:this.media.length>1});i.on("change",()=>{const e=this.media[s.selectedIndex].reviewId;e!==this.reviewId&&(this.review=void 0,this.reviewId=e,this.loadReview())}),s.on("settle",()=>{this.media&&this.nextUrl&&s.cells.length-s.selectedIndex<=this.loadMoreThreshold&&!this.isLoadingMore&&(this.isLoadingMore=!0,r.getMore(this.nextUrl).then(e=>{this.media=this.media.concat(this.remapMedia(e.data.media,!0)),this.nextUrl=e.data.nextUrl,setTimeout(()=>{s.append(this.$refs.navSlideToAppend),i.append(this.$refs.mainSlideToAppend),this.cleanseMediaOfAppends()},0),this.isLoadingMore=!1}).catch(()=>this.isLoadingMore=!1))})}e.focus()},cleanseMediaOfAppends(){this.media.map(e=>e.append=!1)},onClose(e){this.$emit("close")}}},void 0,!1,void 0,!1,u,void 0,void 0);var $=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"okeReviews okeReviews--theme"},[i("div",{ref:"widget",staticClass:"okeReviews-reviewsWidget js-okeReviews-reviewsWidget",class:"small"!==e.widgetSize?"is-okeReviews-reviewsWidget-"+e.widgetSize:""},["content"!==e.viewState?i("okendo-state",{attrs:{viewState:e.viewState,writeReviewUrl:e.writeReviewUrl}}):e._e(),e._v(" "),e.isLoadingInitial||e.isError||!e.reviews.length?e._e():[i("div",{staticClass:"okeReviews-reviewsWidget-header"},[e._m(0),e._v(" "),i("div",{staticClass:"okeReviews-reviewsWidget-header-controls"},[i("okendo-write-review-button",{attrs:{url:e.writeReviewUrl}})],1)]),e._v(" "),i("okendo-aggregate",{attrs:{aggregate:e.aggregate,mediaAggregate:e.mediaAggregate},on:{mediaClick:function(t){return e.openMediaModal(t)}}}),e._v(" "),i("div",{staticClass:"okeReviews-reviewsWidget-reviews"},[i("div",{staticClass:"okeReviews-reviews"},[i("div",{staticClass:"okeReviews-reviews-controls"},[i("div",{staticClass:"okeReviews-reviews-controls-reviewCount"},[e._v("\n                            "+e._s(e.aggregate.reviewCount||"0")+" "+e._s(1===e.aggregate.reviewCount?"Review":"Reviews")+"\n                        ")]),e._v(" "),i("div",{staticClass:"okeReviews-reviews-controls-select"},[i("span",{staticClass:"okeReviews-select"},[i("label",{staticClass:"okeReviews-a11yText",attrs:{for:"okeReviews-reviews-controls-sort"}},[e._v("Sort By")]),e._v(" "),i("select",{staticClass:"okeReviews-select-input",attrs:{id:"okeReviews-reviews-controls-sort"},on:{change:function(t){return e.onSortChange(t)}}},[i("option",{attrs:{value:"date desc",selected:""}},[e._v("Most Recent")]),e._v(" "),i("option",{attrs:{value:"date asc"}},[e._v("Oldest")]),e._v(" "),i("option",{attrs:{value:"has_media desc"}},[e._v("Photos & Videos")]),e._v(" "),i("option",{attrs:{value:"rating desc"}},[e._v("Highest Rating")]),e._v(" "),i("option",{attrs:{value:"rating asc"}},[e._v("Lowest Rating")]),e._v(" "),i("option",{attrs:{value:"helpful desc"}},[e._v("Most Helpful")]),e._v(" "),i("option",{attrs:{value:"unhelpful desc"}},[e._v("Least Helpful")])])])])]),e._v(" "),i("div",{staticClass:"okeReviews-alert okeReviews-alert--top",class:{"is-okeReviews-visible":e.isSorting},attrs:{"aria-hidden":e.isSorting?"false":"true",role:e.isSorting?"alert":"none"}},[i("div",{staticClass:"okeReviews-reviews-alert-inner okeReviews-alert-inner"},[e._v("\n                            Loading Reviews...\n                        ")])]),e._v(" "),i("div",{staticClass:"okeReviews-reviews-main"},e._l(e.reviews,(function(t){return i("div",{key:t.reviewId,staticClass:"okeReviews-reviews-review"},[i("okendo-review",{attrs:{review:t,showProductData:e.isAllReviews},on:{mediaClick:function(t){return e.openMediaModal(t)}}})],1)})),0)])]),e._v(" "),e.nextUrl?i("div",{staticClass:"okeReviews-reviews-footer"},[i("button",{staticClass:"okeReviews-showMore",class:{"is-okeReviews-loading":e.isLoadingMore},attrs:{disabled:e.isLoadingMore},on:{click:function(t){return e.loadMoreReviews()}}},[e._v("\n                    "+e._s(e.isLoadingMore?"Loading...":"Show more")+"\n                ")])]):e._e()]],2),e._v(" "),e.isMediaModalOpen?i("okendo-media-gallery",{attrs:{initialIndex:e.mediaModalConfig.initialIndex,mediaItems:e.mediaModalConfig.mediaItems,initialReviewId:e.mediaModalConfig.reviewId,shopifyProductId:e.shopifyProductId,mode:e.mediaModalConfig.source,isAllReviews:e.isAllReviews},on:{close:function(t){e.isMediaModalOpen=!1}}}):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"okeReviews-reviewsWidget-header-poweredBy"},[t("div",{staticClass:"okeReviews-reviewsWidget-poweredBy"},[t("a",{staticClass:"okeReviews-poweredBy",attrs:{href:"https://www.okendo.io",target:"_blank","aria-label":"Powered by Okendo"}})])])}]},(function(e){e&&e("data-v-1848aaca_0",{source:".okeReviews .okeReviews-reviewsWidget{padding-top:0}.okeReviews .okeReviews-reviewsWidget-poweredBy{display:block}.okeReviews .okeReviews-reviewsWidget-header{display:flex;align-items:center}.okeReviews .modal-wrapper{border:0}.okeReviews .okeReviews-showMore{margin-top:-2px}.okeReviews .okeReviews-showMore::after{display:none}.okeReviews .okeReviews-showMore.is-okeReviews-loading::after{display:inline-block;animation:spin 1s linear infinite;border:2px solid;border-color:currentColor currentColor transparent transparent;border-radius:50%;height:10px;width:10px}.okeReviews .okeReviews-review-primary,.okeReviews .okeReviews-reviewsAggregate-primary{border:2px solid #f5f5f5!important}.okeReviews .okeReviews-review-side,.okeReviews .okeReviews-reviewsAggregate-side{border:0!important;background-color:#f5f5f5}.okeReviews .okeReviews-mediaStrip-item-media{border:2px solid #efefef}.okeReviews .okeReviews-showMore{border:0;padding-left:24px;padding-right:24px;background-color:#f5f5f5}.okeReviews .okeReviews-showMore{position:relative}.okeReviews .okeReviews-reviews-footer::before{height:2px;background:#f5f5f5;top:-2px}.okeReviews .okeReviews-review-reviewer-profile{border-bottom:2px solid #efefef}.okeReviews .okeReviews-review-reviewer-profile-details{vertical-align:middle;padding-top:0}.okeReviews .okeReviews-avatar{background-color:#fff;width:50px;height:50px}.okeReviews .okeReviews-avatar-placeholder{font-size:1em}.okeReviews .okeReviews-avatar::after{background-size:15px;width:15px;height:15px}.okeReviews .okeReviews-review--simple .okeReviews-avatar{background-color:#efefef}.okeReviews .okeReviews-helpful-vote-button,.okeReviews .okeReviews-review-recommendation,.okeReviews .okeReviews-review-reviewer-profile-status{margin-top:0;vertical-align:baseline}.okeReviews .okeReviews-helpful-vote-button::before,.okeReviews .okeReviews-review-recommendation::before,.okeReviews .okeReviews-review-reviewer-profile-status::before{margin-top:-.4em;margin-right:.1em;font-size:1em}.okeReviews .okeReviews-select,.okeReviews .okeReviews-select::before{border-color:#f5f5f5;border-width:2px}.okeReviews .okeReviews-reviewsWidget .oke-helpful{text-align:right}@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}",map:void 0,media:void 0})}),{props:{productId:{type:String,default:""},sizeOverride:{type:String}},components:{OkendoReview:x,OkendoState:I,OkendoAggregate:A,OkendoMediaGallery:U,OkendoWriteReviewButton:S},data:()=>({apiStoreBaseUrl:"",shopifyProductId:"",writeReviewUrl:"",nextUrl:"",reviews:[],aggregate:void 0,mediaAggregate:void 0,viewState:"loading",isSorting:!1,isLoadingMore:!1,size:"small",isMediaModalOpen:!1,mediaModalConfig:{}}),mounted(){this.sizeOverride||this.addResizeListener(),this.isAllReviews=!this.productId,this.shopifyProductId=r.transformProductId(this.productId),this.writeReviewUrl=this.getWriteReviewUrl();const e=this.getReviewsPromise(),t=this.getAggregatePromise(),i=this.getMediaPromise();Promise.all([e,t,i]).then(([e,t,i])=>{if(e&&t&&i){this.aggregate=t.data.reviewAggregate,this.mediaAggregate=i.data;const{nextUrl:s,reviews:a}=e.data;this.nextUrl=s,this.reviews=a,this.viewState=a.length?"content":"empty"}else this.viewState="error"}).catch(()=>{this.viewState="error"})},destroyed(){this.removeResizeListener()},computed:{widgetSize(){return this.sizeOverride||this.size}},methods:{getReviewsPromise(e="date desc"){return this.isAllReviews?r.getReviewsAll(void 0,e):r.getReviewsProduct(this.shopifyProductId,void 0,e)},getAggregatePromise(){return this.isAllReviews?r.getReviewAggregateAll():r.getReviewAggregateProduct(this.shopifyProductId)},getMediaPromise(){return this.isAllReviews?r.getMediaAll():r.getMediaProduct(this.shopifyProductId)},getWriteReviewUrl(){return this.isAllReviews?"":r.writeReviewUrl(this.shopifyProductId)},loadMoreReviews(){this.isLoadingMore||(this.isLoadingMore=!0,r.getMore(this.nextUrl).then(e=>{if(e&&e.data){const{nextUrl:t,reviews:i}=e.data;this.nextUrl=t,this.reviews.push(...i)}this.isLoadingMore=!1}).catch(()=>{this.isLoadingMore=!1}))},onSortChange(e){const t=e&&e.target&&e.target.value;t&&(this.isSorting=!0,this.getReviewsPromise(t).then(e=>{const{nextUrl:t,reviews:i}=e.data;this.reviews=i,this.nextUrl=t,this.isSorting=!1}).catch(()=>{this.isSorting=!1,this.viewState="error"}))},addResizeListener(){this.setWidgetSize(),window.addEventListener("resize",this.setWidgetSize,{passive:!0})},removeResizeListener(){window.removeEventListener("resize",this.setWidgetSize)},setWidgetSize(){const e=this.$refs.widget&&this.$refs.widget.clientWidth;this.size=e>960?"large":e>640?"medium":"small"},openMediaModal(e){this.mediaModalConfig=e,this.isMediaModalOpen=!0}}},void 0,!1,void 0,!1,u,void 0,void 0);var T=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"oke-avatar",style:{width:e.width,height:e.width,"line-height":e.width}},[i("span",{staticClass:"oke-avatar-placeholder"},[e._v("\n        "+e._s(e.initials)+"\n    ")]),e._v(" "),e.avatarUrl?i("img",{staticClass:"oke-avatar-image",attrs:{src:e.avatarUrl,alt:""}}):e._e()])},staticRenderFns:[]},(function(e){e&&e("data-v-14c76f53_0",{source:".oke-avatar{background-color:#eee;width:32px;height:32px;margin-right:16px;line-height:32px;border-radius:50%;overflow:hidden;position:relative}.oke-avatar-image{display:block;position:absolute;width:100%;height:100%}.oke-avatar-placeholder{font-size:12px;font-weight:600;user-select:none;width:100%;left:0;position:absolute;text-align:center}",map:void 0,media:void 0})}),{props:{avatarUrl:{type:String,required:!1},displayName:{type:String,required:!0},width:{type:String,required:!1,default:"40px"}},computed:{initials(){return(this.displayName||"").split(" ").slice(0,2).map(e=>e.substr(0,1).toLocaleUpperCase()).join("")}}},void 0,!1,void 0,!1,u,void 0,void 0);var B=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.question?i("div",[i("div",{staticClass:"oke-qw-question"},[i("div",{staticClass:"oke-qw-question-avatar"},[e._m(0)],1),e._v(" "),i("div",{staticClass:"oke-qw-question-main"},[e._m(1),e._v(" "),e._m(2),e._v(" "),e._m(3),e._v(" "),i("div",{staticClass:"oke-qw-question-main-helpful"},[i("helpful-voting",{attrs:{itemId:e.question.questionId,helpfulCount:e.question.helpfulCount,unhelpfulCount:e.question.unhelpfulCount,contentType:"question"}})],1)])]),e._v(" "),e._l(e.question.answers,(function(t){return i("div",{key:t.answerId,staticClass:"oke-qw-answer"},[i("div",{staticClass:"oke-qw-answer-avatar"},[e._o(i("avatar",{attrs:{avatarUrl:t.author.avatarUrl,displayName:t.author.displayName,width:"40px"}}),0,t.answerId)],1),e._v(" "),i("div",{staticClass:"oke-qw-answer-main"},[e._o(i("div",{staticClass:"oke-qw-answer-main-author"},[e._v("\n                "+e._s(t.author.displayName)+"\n            ")]),1,t.answerId),e._v(" "),e._o(i("div",{staticClass:"oke-qw-answer-main-date"},[e._v("\n                "+e._s(e.formatDate(t.dateCreated))+"\n            ")]),2,t.answerId),e._v(" "),e._o(i("div",{staticClass:"oke-qw-answer-main-body",domProps:{innerHTML:e._s(t.body)}}),3,t.answerId),e._v(" "),i("div",{staticClass:"oke-qw-answer-main-helpful"},[i("helpful-voting",{attrs:{itemId:t.answerId,parentId:e.question.questionId,helpfulCount:t.helpfulCount,unhelpfulCount:t.unhelpfulCount,contentType:"answer"}})],1)])])}))],2):e._e()},staticRenderFns:[function(){var e=this.$createElement;return(this._self._c||e)("avatar",{attrs:{avatarUrl:this.question.author.avatarUrl,displayName:this.question.author.displayName,width:"40px"}})},function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"oke-qw-question-main-author"},[this._v("\n                "+this._s(this.question.author.displayName)+"\n            ")])},function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"oke-qw-question-main-date"},[this._v("\n                "+this._s(this.formatDate(this.question.dateCreated))+"\n            ")])},function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"oke-qw-question-main-body"},[this._v("\n                "+this._s(this.question.body)+"\n            ")])}]},(function(e){e&&e("data-v-2ce09edd_0",{source:".oke-qw-answer,.oke-qw-question{display:flex;flex-flow:row nowrap;justify-content:stretch}.oke-qw-answer-main,.oke-qw-question-main{flex:1 1 0}.oke-qw-answer-main-author,.oke-qw-answer-main-date,.oke-qw-question-main-author,.oke-qw-question-main-date{margin-bottom:4px}.oke-qw-answer-main-author,.oke-qw-question-main-author{font-weight:700;font-size:12px;float:left}.oke-qw-answer-main-body,.oke-qw-question-main-body{clear:both;margin-bottom:4px}.oke-qw-answer-main-date,.oke-qw-question-main-date{font-size:12px;color:#7c7c7c;float:right}.oke-qw-question{margin-bottom:24px}.oke-qw-question-main{padding-right:20px}.oke-qw-question-main-body{font-weight:700}.oke-qw-answer{margin-left:56px;background-color:#f5f5f5;padding:20px;border-radius:8px;border-radius:12px}.oke-is-small .oke-qw-answer{margin-left:0}",map:void 0,media:void 0})}),{props:{question:{type:Object,required:!0},index:{type:Number,required:!0}},components:{Avatar:T,HelpfulVoting:b},methods:{formatDate:e=>q.getPrettyDate(e)}},void 0,!1,void 0,!1,u,void 0,void 0);var P=n({render:function(){var e=this.$createElement,t=this._self._c||e;return this.questions.length?t("ul",{staticClass:"oke-qw-questionList",class:{"oke-is-loading":this.isLoading}},this._l(this.questions,(function(e,i){return t("li",{key:e.questionId,staticClass:"oke-qw-questionList-item"},[t("question",{attrs:{question:e,index:i}})],1)})),0):this._e()},staticRenderFns:[]},(function(e){e&&e("data-v-53594192_0",{source:".oke-qw-questionList{transition:.2s opacity ease-out;position:relative}.oke-qw-questionList-item{list-style-type:none;margin-bottom:24px;padding-bottom:24px;border-bottom:2px solid #f5f5f5}.oke-qw-questionList-item:last-child{margin-bottom:0;border-bottom:0}.oke-qw-questionList.oke-is-loading{opacity:.3}",map:void 0,media:void 0})}),{props:{questions:{type:Array,required:!0},isLoading:{type:Boolean,required:!0}},components:{Question:B}},void 0,!1,void 0,!1,u,void 0,void 0);var z=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"oke-sortSelect"},[i("label",{staticClass:"oke-sortSelect-label",attrs:{for:"oke-sortSelect-sort"}},[e._v("\n        Sort\n    ")]),e._v(" "),i("select",{staticClass:"oke-sortSelect-sort oke-select",attrs:{disabled:e.disabled,id:"oke-sortSelect-sort"},domProps:{value:e.value},on:{change:function(t){return e.onSortChange(t)}}},[i("option",{attrs:{value:"date desc"}},[e._v(e._s("Most Recent"))]),e._v(" "),i("option",{attrs:{value:"date asc"}},[e._v(e._s("Oldest"))]),e._v(" "),i("option",{attrs:{value:"helpful desc"}},[e._v(e._s("Most Helpful"))]),e._v(" "),"reviews"===e.contentType?[i("option",{attrs:{value:"has_media desc"}},[e._v(e._s("Photos & Videos"))]),e._v(" "),i("option",{attrs:{value:"rating desc"}},[e._v(e._s("Highest Rating"))]),e._v(" "),i("option",{attrs:{value:"rating asc"}},[e._v(e._s("Lowest Rating"))]),e._v(" "),i("option",{attrs:{value:"unhelpful desc"}},[e._v(e._s("Least Helpful"))])]:e._e()],2)])},staticRenderFns:[]},(function(e){e&&e("data-v-e624547e_0",{source:".oke-sortSelect-label{font-weight:600;margin-right:16px}",map:void 0,media:void 0})}),{props:{value:{type:String,required:!1,default:"date desc"},contentType:{type:0,required:!1,default:"reviews"},disabled:{type:Boolean,required:!1,default:!1}},methods:{onSortChange(e){this.$emit("input",e.target.value)}}},void 0,!1,void 0,!1,u,void 0,void 0);var O=n({render:function(){var e=this.$createElement;return(this._self._c||e)("a",{staticClass:"okeReviews-poweredBy",attrs:{href:"https://www.okendo.io",target:"_blank","aria-label":"Powered by Okendo"}})},staticRenderFns:[]},(function(e){e&&e("data-v-39e40518_0",{source:".oke-poweredBy{display:block;transition:.2s opacity ease-out;opacity:.4}.oke-poweredBy:focus,.oke-poweredBy:hover{outline:0;opacity:.6}.oke-poweredBy-image{display:block}",map:void 0,media:void 0})}),{props:{size:{type:0,required:!1,default:"small"}}},void 0,!1,void 0,!1,u,void 0,void 0);var E=n({render:function(){var e=this.$createElement;this._self._c;return this.productId?this._m(0):this._e()},staticRenderFns:[function(){var e=this.$createElement;return(this._self._c||e)("a",{staticClass:"oke-qw-askQuestion oke-button",attrs:{href:this.askQuestionUrl,target:"_blank",rel:"noopener noreferrer"}},[this._v("\n    Ask a Question\n")])}]},void 0,{props:{productId:{type:String,required:!1}},computed:{askQuestionUrl(){return r.askQuestionUrl(this.productId)}}},void 0,!1,void 0,!1,void 0,void 0,void 0);var V=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"oke-qw-header"},[i("div",{staticClass:"oke-qw-header-poweredBy"},[i("powered-by",{attrs:{size:e.widgetSize}})],1),e._v(" "),i("div",{staticClass:"oke-qw-header-sort"},[i("sort-select",{attrs:{disabled:e.sortDisabled,contentType:"questions"},on:{input:function(t){return e.onSortChange(t)}},model:{value:e.selectedSortOption,callback:function(t){e.selectedSortOption=t},expression:"selectedSortOption"}})],1),e._v(" "),i("div",{staticClass:"oke-qw-header-askQuestion"},[i("ask-question-button",{attrs:{productId:e.productId}})],1)])},staticRenderFns:[]},(function(e){e&&e("data-v-c4da3d8c_0",{source:".oke-qw-header{display:flex;align-items:center;padding-bottom:12px}.oke-qw-header-sort{margin-left:auto;margin-right:24px}.oke-is-small .oke-qw-header{flex-flow:row wrap;justify-content:space-between}.oke-is-small .oke-qw-header-askQuestion{flex-basis:100%}.oke-is-small .oke-qw-header-askQuestion .oke-qw-askQuestion{width:100%;margin-top:8px}.oke-is-small .oke-qw-header-sort{margin:0}",map:void 0,media:void 0})}),{props:{initialSortOption:{type:String,required:!1,default:"date desc"},widgetSize:{type:0,default:"small",required:!1},sortDisabled:{type:Boolean,default:!1,required:!1},productId:{type:String,required:!0}},components:{AskQuestionButton:E,PoweredBy:O,SortSelect:z},data:()=>({selectedSortOption:"date desc"}),mounted(){this.selectedSortOption=this.initialSortOption},methods:{onSortChange(e){this.$emit("sortChange",e)}}},void 0,!1,void 0,!1,u,void 0,void 0);var D=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"oke-showMore oke-is-loading"},[i("button",{staticClass:"oke-showMore-button oke-button",class:{"oke-is-loading":e.isLoading},attrs:{title:e.isLoading?"Loading more":"",type:"button"},on:{click:function(t){return e.onClick(t)}}},[i("span",{staticClass:"oke-showMore-button-text"},[e._v("Show More")])])])},staticRenderFns:[]},(function(e){e&&e("data-v-fa41b2e6_0",{source:".oke-showMore{text-align:center}.oke-showMore-button{border-top:0!important}.oke-showMore-button.oke-is-loading .oke-showMore-button-text{opacity:0}.oke-showMore-button-text{font-family:inherit}",map:void 0,media:void 0})}),{props:{isLoading:{type:Boolean,default:!1}},methods:{onClick(e){this.$emit("click",e.target.value)}}},void 0,!1,void 0,!1,u,void 0,void 0);var W=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"oke-alert",class:{"oke-is-visible":e.isVisible&&e.message.length,"oke-alert--top":"top"===e.position,"oke-alert--bottom":"bottom"===e.position},attrs:{"aria-hidden":!e.isVisible,role:"alert","aria-live":"assertive","aria-atomic":"true"}},[i("div",{staticClass:"oke-alert-inner"},[e._v("\n        "+e._s(e.message)+"\n    ")])])},staticRenderFns:[]},(function(e){e&&e("data-v-199817f3_0",{source:".oke-alert{position:absolute;overflow:hidden;padding:12px 0;left:0;right:0;margin-left:auto;margin-right:auto;text-align:center}.oke-alert-inner{display:inline-block;transition:transform .2s ease-out;background-color:#fff;padding:8px 24px;box-shadow:0 0 5px 0 rgba(0,0,0,.15)}.oke-alert--top{top:0}.oke-alert--top .oke-alert-inner{top:12px;transform:translateY(-150%)}.oke-alert--bottom{bottom:0}.oke-alert--bottom .oke-alert-inner{bottom:12px;transform:translateY(150%)}.oke-alert.oke-is-visible.oke-alert--bottom .oke-alert-inner,.oke-alert.oke-is-visible.oke-alert--top .oke-alert-inner{top:auto;transform:translateY(0)}",map:void 0,media:void 0})}),{props:{position:{type:0,required:!0}},data:()=>({isVisible:!1,message:"Loading..."}),methods:{show(e,t=0){this.isVisible=!0,this.message=e,t&&setTimeout(()=>{this.isVisible=!1},t)},hide(){this.isVisible=!1}}},void 0,!1,void 0,!1,u,void 0,void 0);var F=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"questionsWidget",staticClass:"okeReviews",attrs:{"data-oke-reviews-version":""}},[i("div",{staticClass:"okeReviews-qandaWidget oke-qw",class:{"oke-is-small is-okeReviews-qandaWidget-small":"small"===e.widgetSize,"oke-is-medium is-okeReviews-qandaWidget-medium":"medium"===e.widgetSize,"oke-is-large is-okeReviews-qandaWidget-large":"large"===e.widgetSize}},["loading"===e.viewState||"content"===e.viewState?i("questions-header",{attrs:{sortDisabled:"content"!==e.viewState,productId:e.shopifyProductId,selectedSortOption:e.selectedSortOption,widgetSize:e.widgetSize},on:{sortChange:function(t){return e.onSortChange(t)}}}):e._e(),e._v(" "),i("div",{staticClass:"oke-qw-main"},["loading"===e.viewState||"content"===e.viewState?i("questions-list",{attrs:{isLoading:"loading"===e.viewState,questions:e.questions}}):e._e(),e._v(" "),"loading"===e.viewState?i("div",{staticClass:"oke-qw-loading"},[e._m(0)]):e._e(),e._v(" "),"empty"===e.viewState?i("div",{staticClass:"oke-qw-empty"},[i("div",{staticClass:"oke-qw-empty-text"},[e._v("\n                    No questions yet, ask one now?\n                ")]),e._v(" "),i("div",{staticClass:"oke-qw-empty-button"},[i("ask-question-button",{attrs:{productId:e.shopifyProductId}})],1)]):e._e(),e._v(" "),"error"===e.viewState?i("div",{staticClass:"oke-qw-error"},[i("div",{staticClass:"oke-qw-error-text"},[e._v("\n                    Error occurred while loading questions 😣\n                ")]),e._v(" "),i("div",{staticClass:"oke-qw-error-button"},[i("button",{staticClass:"oke-qw-error-button oke-button",attrs:{type:"button"},on:{click:function(t){return e.loadQuestions(e.loadInitialLimit,e.selectedSortOption)}}},[e._v("\n                        Retry\n                    ")])])]):e._e(),e._v(" "),e.questions&&e.questions.length?i("div",{staticClass:"oke-qw-main-alerts"},[i("alert",{ref:"bottomAlert",attrs:{position:"bottom"}}),e._v(" "),i("alert",{ref:"topAlert",attrs:{position:"top"}})],1):e._e()],1),e._v(" "),i("div",{staticClass:"oke-qw-footer"},[e.nextUrl&&"content"===e.viewState?i("show-more",{attrs:{isLoading:e.isLoadingMore},on:{click:function(t){return e.showMoreQuestions()}}}):e._e()],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"oke-qw-loading-text"},[this._v("\n                    Loading Questions "),t("span",{staticClass:"oke-loader"})])}]},(function(e){e&&e("data-v-5a492d6f_0",{source:".oke-qw{margin:auto;text-align:left}.oke-qw-questionList{padding:0;margin:0}.oke-qw-main{position:relative;padding-top:24px;border-top:2px solid #f5f5f5;border-bottom:2px solid #f5f5f5}.oke-qw-empty,.oke-qw-error,.oke-qw-loading{text-align:center;padding-bottom:24px}.oke-qw-empty-button,.oke-qw-error-button,.oke-qw-loading-button{margin-top:8px}.oke-qw-empty .oke-loader,.oke-qw-error .oke-loader,.oke-qw-loading .oke-loader{margin-left:8px}.oke-qw .oke-button{display:inline-block;transition:.2s background-color ease-out;background-color:#f7f7f8;padding:.5em 24px;margin:0;border:0;border-radius:0;color:inherit;text-align:center;position:relative}.oke-qw .oke-button.oke-is-loading .oke-button-text{opacity:0}.oke-qw .oke-button.oke-is-loading::before{background-image:url(\"data:image/svg+xml,%3Csvg fill='%237c7c7c' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M24 12h-2c0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10v2C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12z'/%3E%3C/svg%3E\");background-repeat:no-repeat;display:inline-block;content:\"\";width:12px;height:12px;background-size:12px 12px;animation:oke-spin 1s infinite linear;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto}.oke-qw .oke-button:focus,.oke-qw .oke-button:hover{outline:0}.oke-qw .oke-button:not(.oke-is-loading){cursor:pointer}.oke-qw .oke-button:not(.oke-is-loading):focus,.oke-qw .oke-button:not(.oke-is-loading):hover{background-color:#e5e5eb}.oke-qw .oke-is-small .oke-button{padding-top:12px;padding-bottom:12px}.oke-qw .oke-select{cursor:pointer;background-repeat:no-repeat;background-position-x:100%;background-position-y:50%;border:none;padding:0 24px 0 0;border-radius:4px;appearance:none;color:inherit;background-color:transparent;-webkit-appearance:none;background-image:url(\"data:image/svg+xml,%3Csvg fill='%23000' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");background-repeat:no-repeat}.oke-qw .oke-select:focus{outline:0;text-decoration:underline}.oke-qw .oke-select:disabled{background-color:transparent;background-image:url(\"data:image/svg+xml,%3Csvg fill='%237c7c7c' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3Cpath d='M0 0h24v24H0z' fill='none'/%3E%3C/svg%3E\");background-repeat:no-repeat}.oke-qw .oke-loader{background-image:url(\"data:image/svg+xml,%3Csvg fill='%237c7c7c' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M24 12h-2c0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10v2C5.373 24 0 18.627 0 12S5.373 0 12 0s12 5.373 12 12z'/%3E%3C/svg%3E\");background-repeat:no-repeat;display:inline-block;content:\"\";width:12px;height:12px;background-size:12px 12px;animation:oke-spin 1s infinite linear;vertical-align:middle;user-select:none}@keyframes oke-spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}",map:void 0,media:void 0})}),{props:{productId:{type:String,required:!0},sizeOverride:{type:String}},components:{Alert:W,AskQuestionButton:E,QuestionsHeader:V,QuestionsList:P,ShowMore:D},data:()=>({viewState:"loading",size:"small",questions:[],isLoadingMore:!1,selectedSortOption:"date desc",nextUrl:"",loadInitialLimit:5,shopifyProductId:""}),mounted(){this.shopifyProductId=r.transformProductId(this.productId),this.sizeOverride||this.addResizeListener(),this.loadQuestions(this.loadInitialLimit,this.selectedSortOption)},destroyed(){this.removeResizeListener()},computed:{widgetSize(){return this.sizeOverride||this.size}},methods:{loadQuestions(e,t){if(this.shopifyProductId){const i=this.$refs.topAlert;i&&i.show("Loading Questions..."),r.getQuestionsProduct(this.shopifyProductId,e,t).then(({data:e})=>{this.questions=e.questions,this.nextUrl=e.nextUrl,this.viewState=this.questions.length?"content":"empty",i&&i.hide()}).catch(()=>{this.viewState="error",i&&i.hide()})}},showMoreQuestions(){this.nextUrl&&(this.isLoadingMore=!0,r.getMore(this.nextUrl).then(({data:e})=>{this.questions=[...this.questions,...e.questions],this.nextUrl=e.nextUrl,this.isLoadingMore=!1}).catch(()=>{this.$refs.bottomAlert.show("Unexpected error occurred, please try again",2e3),this.isLoadingMore=!1}))},onSortChange(e){this.selectedSortOption=e,this.loadQuestions(this.loadInitialLimit,this.selectedSortOption)},addResizeListener(){this.setWidgetSize(),window.addEventListener("resize",this.setWidgetSize,{passive:!0})},removeResizeListener(){window.removeEventListener("resize",this.setWidgetSize)},setWidgetSize(){const e=this.$refs.questionsWidget&&this.$refs.questionsWidget.clientWidth;this.size=e>960?"large":e>640?"medium":"small"}}},void 0,!1,void 0,!1,u,void 0,void 0);var N=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"oke-rw-navBar",attrs:{role:"tablist"}},e._l(e.tabs,(function(t,s){return i("button",{key:t,ref:t,refInFor:!0,staticClass:"oke-rw-navBar-item",attrs:{"aria-selected":e.activeTab===t,id:t+"-tab","aria-controls":t+"-panel",tabindex:e.activeTab===t?0:-1,role:"tab",type:"button"},on:{click:function(i){return e.onActiveTabChange(t)},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])?null:"button"in t&&2!==t.button?null:e.selectNextTab(s)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:"button"in t&&0!==t.button?null:e.selectPreviousTab(s)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"home",void 0,t.key,void 0)?null:e.selectFirstTab()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"end",void 0,t.key,void 0)?null:e.selectLastTab()}]}},[e._v("\n        "+e._s(t)+"\n        "),"reviews"===t&&e.reviewCount?i("span",{staticClass:"oke-rw-navBar-item-count"},[e._v(e._s(e.reviewCount))]):e._e(),e._v(" "),"questions"===t&&e.questionCount?i("span",{staticClass:"oke-rw-navBar-item-count"},[e._v(e._s(e.questionCount))]):e._e()])})),0)},staticRenderFns:[]},(function(e){e&&e("data-v-229d67ee_0",{source:'.okeReviews .oke-rw-navBar{margin-bottom:16px;text-align:left}.okeReviews .oke-rw-navBar-item{outline:0;margin-right:24px;padding-bottom:4px;font-weight:600;background:0 0;border:0;color:inherit;cursor:pointer;display:inline-block;height:auto;padding:0;text-transform:capitalize}.okeReviews .oke-rw-navBar-item a{color:inherit}.okeReviews .oke-rw-navBar-item[aria-selected=true]{border-bottom:3px solid #dbdde4}.okeReviews .oke-rw-navBar-item-count{display:inline-block}.okeReviews .oke-rw-navBar-item-count::before{content:"("}.okeReviews .oke-rw-navBar-item-count::after{content:")"}',map:void 0,media:void 0})}),{props:{activeTab:{type:String,required:!1,default:"reviews"},productId:{type:String,required:!0},tabs:{type:Array,required:!0}},data:()=>({questionCount:0,reviewCount:0}),mounted(){this.productId&&Promise.all([r.getReviewAggregateProduct(this.productId),r.getQuestionAggregateProduct(this.productId)]).then(([e,t])=>{this.reviewCount=e.data.reviewAggregate.reviewCount||0,this.questionCount=t.data.questionAggregate.approvedQuestionCount||0})},methods:{onActiveTabChange(e){const t=this.$refs[e];t[0]&&t[0].focus(),this.$emit("tabChange",e)},selectFirstTab(){const e=this.tabs[0];this.onActiveTabChange(e)},selectLastTab(){const e=this.tabs[this.tabs.length-1];this.onActiveTabChange(e)},selectNextTab(e){const t=this.tabs[e+1]||this.tabs[0];this.onActiveTabChange(t)},selectPreviousTab(e){const t=this.tabs[e-1]||this.tabs[this.tabs.length-1];this.onActiveTabChange(t)}}},void 0,!1,void 0,!1,u,void 0,void 0);var Q=n({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"okeReviews",attrs:{"data-oke-reviews-version":""}},[i("div",{ref:"widget",staticClass:"oke-cw"},[i("nav-bar",{attrs:{tabs:e.tabs,activeTab:e.activeTab,productId:e.productId},on:{tabChange:function(t){return e.onTabChange(t)}}}),e._v(" "),e._l(e.tabs,(function(t){return i("div",{key:t},[i("div",{staticClass:"oke-cw-panel",attrs:{hidden:e.activeTab!==t,id:t+"-panel","aria-labelledby":t+"-tab",tabindex:"0",role:"tabpanel"}},["reviews"===t?i("reviews-widget",{attrs:{productId:e.productId,sizeOverride:e.widgetSize}}):e._e(),e._v(" "),e.questionsTabInitialised&&"questions"===t?i("questions-widget",{attrs:{productId:e.productId,sizeOverride:e.widgetSize}}):e._e()],1)])}))],2)])},staticRenderFns:[]},(function(e){e&&e("data-v-15bb2782_0",{source:".oke-cw-panel{outline:0}.oke-cw-panel[hidden]{display:none}",map:void 0,media:void 0})}),{props:{productId:{type:String,required:!0}},components:{QuestionsWidget:F,ReviewsWidget:$,NavBar:N},data:()=>({activeTab:"reviews",questionsTabInitialised:!1,tabs:["reviews","questions"],widgetSize:"small"}),mounted(){this.addResizeListener()},destroyed(){this.removeResizeListener()},methods:{onTabChange(e){"questions"===e&&(this.questionsTabInitialised=!0),this.activeTab=e},addResizeListener(){this.setWidgetSize(),window.addEventListener("resize",this.setWidgetSize,{passive:!0})},removeResizeListener(){window.removeEventListener("resize",this.setWidgetSize)},setWidgetSize(){const e=this.$refs.widget&&this.$refs.widget.clientWidth;this.widgetSize=e>960?"large":e>640?"medium":"small"}}},void 0,!1,void 0,!1,u,void 0,void 0),H=Object.freeze({__proto__:null,OkendoStarRating:g,OkendoReviewsWidget:$,OkendoQuestionsWidget:F,OkendoCombinedWidget:Q});const G={install:function e(t){e.installed||(e.installed=!0,Object.keys(H).forEach(e=>{t.component(e,H[e])}))}};let j=null;return"undefined"!=typeof window?j=window.Vue:"undefined"!=typeof global&&(j=global.Vue),j&&j.use(G),e.OkendoCombinedWidget=Q,e.OkendoQuestionsWidget=F,e.OkendoReviewsWidget=$,e.OkendoStarRating=g,e.configureOkendo=function(e){e.subscriberId&&r.setSubscriberId(e.subscriberId)},e.default=G,e}({},axios);